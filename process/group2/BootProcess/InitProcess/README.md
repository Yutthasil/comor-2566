# Init Process
ในขั้น kernel stage ที่เตรียมใช้งานอุปกรณ์ ติดตั้ง root filesystem ที่ระบุโดย bootloader ให้เป็นแบบ read only และ
รัน Init (/sbin/init) ซึ่งถูกกำหนดให้เป็นกระบวนการแรกที่รันโดยระบบ(PID = 1) ข้อความจะถูกพิมพ์โดย kernel เมื่อติดตั้ง
file system และเมื่อเริ่ม Init process โดย Init


# Init System
หลังจาก kernel เสร็จสิ้นกระบวนการเริ่มต้น kernel จะส่งผ่านการควบคุมไปยังระบบ Initialization หรือ Init system ขั้นตอนสำคัญในกระบวนการบูต Linux 
Init system จะเริ่มต้น และเริ่มฟังก์ชันทั้งหมดของระบบ และ processes ที่จำเป็นสำหรับการดำเนินการระบบ
ในขั้นตอนการเริ่มของ Init จะเริ่มด้วยการตัดสินใจว่าควรจะใช้ระดับการทำงานใดเพื่อเริ่มระบบ ซึ่งจะกำหนดบริการของระบบและกระบวนการที่จะเริ่ม 
จากนั้น system services ทั้งหมดที่จำเป็นสำหรับระดับการทำงานจะถูกเตรียมใช้งาน เช่น network stack, logging และ authentication
จากนั้นสภาพแวดล้อมของ user จะถูกตั้งค่า และกระบวนการ daemon ทั้งหมดที่จำเป็นสำหรับระดับการทำงานที่เลือกจะถูกเริ่มต้น

ใน Linux จะมีระบบการเริ่มต้นหลัก 3 ระบบ ได้แก่ SysVinit, Upstart และ Systemd 
Init systems เหล่านี้ทำหน้าที่รับผิดชอบในการควบคุมการ startup และ shutdown ของระบบ

### SysVinit
- **ความเป็นมา:** SysVinit เป็นระบบ init ที่เกิดขึ้นจาก System V Unix, ที่เป็นมาตรฐานของระบบปฏิบัติการ Unix.
- **วิธีการทำงาน:** ใช้สคริปต์เริ่มต้น (init scripts) ที่ถูกจัดเก็บในไดเร็กทอรี /etc/init.d/ เพื่อกำหนดการทำงานของ service ต่าง ๆ และระบบจะเริ่มต้นกระบวนการตามลำดับที่กำหนด.
- **ข้อจำกัด:** ไม่สามารถจัดการกระบวนการที่เสียหายหรือถูกหยุดทำงานได้โดยอัตโนมัติ.

### Upstart
- **ความเป็นมา:** Upstart เป็นระบบ init ที่พัฒนาขึ้นโดย Canonical (บริษัทผู้พัฒนา Ubuntu).
- **วิธีการทำงาน:** ใช้ไฟล์การกำหนดค่า (configuration files) แบบอีเวนต์ (event-based) เพื่อกำหนดลำดับการทำงานของ service โดยมีการใช้เหตุการณ์และการส่งสัญญาณ (signals) เป็นหลัก.
- **ข้อจำกัด:** Upstart ไม่ได้รับความนิยมมากนักและถูกทิ้งในบางระบบปฏิบัติการ Linux ในภายหลัง.

### Systemd
- **ความเป็นมา:** Systemd เป็นระบบ init ที่ถูกพัฒนาขึ้นโดย Lennart Poettering และ Kay Sievers และได้รับการนำไปใช้ในหลายระบบปฏิบัติการ Linux, เช่น Debian, Ubuntu, Red Hat, Fedora, และอื่น ๆ.
- **วิธีการทำงาน:** มีการใช้หน่วยบริการ (system units) และไฟล์การกำหนดค่าในรูปแบบ INI-style เพื่อกำหนดการทำงานของ service และระบบจัดการกระบวนการแบบพร้อมกัน.
- **ข้อได้เปรียบ:** Systemd มีความสามารถที่แข็งแกร่งในการจัดการบริการและกระบวนการ, มีการทำงานแบบ parallel และมีระบบติดตามสถานะ (status tracking system) ที่ช่วยในการตรวจสอบสถานะของบริการ.

# Init runlevels
Init สามารถเป็น 1 ใน 8 ของ runlevels: 0-6, S หรือ s แม้ว่า runlevels จะสามารถเปลี่ยนแปลงได้ หากจำเป้น
เป็นที่น่าสังเกตว่าสิ่งที่ S และ s เหมือนกัน และไม่ได้มีไว้สำหรับใช้โดยตรง แต่ใช้สำหรับสคริปต์ที่ดำเนินการเท่านั้น
### ฟังก์ชั่นของ runlevels มีดังนี้
- **0:** หยุดระบบ
- **1:** ทำให้ระบบเข้าสู่ single user mode
- **2:** รับ multiuser mode โดยไม่ต้องมีเครือข่าย
- **3:** รับ multiuser mode โดยมีเครือข่าย
- **4:** ไม่ได้ใช้
- **5:** รับ multiuser โดยมีเครือข่าย และ X windows
- **6:** รีบูตระบบ

หลังจากการเรียกใช้ Init เป็นขั้นสุดท้าย หลัง boot sequence ของ kernel ไฟล์ /etc/inittab จะถูกค้นหาเพื่อดูว่ามีรายการประเภท initdefault หรือไม่ ซึ่งจะกำหนดระดับการทำงานเริ่มต้นของระบบ และหากไม่มีอยู่ จะต้องป้อนระดับการทำงานที่คอนโซลระบบ

# แหล่งอ้างอิง
- https://www.scaler.com/topics/booting-process-in-linux/
- https://en.wikipedia.org/wiki/Booting_process_of_Linux
- https://en.wikipedia.org/wiki/Init
- https://www.webopedia.com/definitions/init/
