# Storage Management
&nbsp;&nbsp;ใน Linux มีสองวิธีที่สามารถแบ่งพาร์ติชันดิสก์หรือไดรฟ์ได้ วิธีหนึ่งคือการใช้วิธีการแบ่งพาร์ติชันมาตรฐาน(standard partition) และอีกวิธีหนึ่งคือการใช้วิธีการแบ่งพาร์ติชัน LVM(LVM partitioning method)

# Standard Partition
&nbsp;&nbsp;standard partition เป็นการแบ่งพื้นที่บนฮาร์ดดิสก์หรืออุปกรณ์เก็บข้อมูลอื่น ๆ ออกเป็นส่วนเล็กๆ เพื่อเก็บข้อมูลหรือติดตั้งระบบไฟล์ของระบบปฏิบัติการ Linux พาร์ติชันเป็นวิธีที่ใช้ในการจัดระเบียบข้อมูลและการเข้าถึงข้อมูลบนอุปกรณ์เก็บข้อมูล แต่ละพาร์ติชันจะมีขนาดและประเภทที่กำหนดโดยผู้ใช้หรือระบบ

&nbsp;&nbsp;พาร์ติชันมาตรฐานใน Linux สามารถใช้งานได้โดยตรงโดยไม่จำเป็นต้องมีโครงสร้างการจัดการเพิ่มเติมเช่น Logical Volume Manager (LVM) หรือการถือครองรูปแบบอื่น ๆ และมักจะใช้งานกับระบบไฟล์เช่น ext4, XFS, หรือ Btrfs เพื่อจัดเก็บข้อมูลบนพาร์ติชันนั้นๆ ในระบบปฏิบัติการ Linux

หากต้องการแสดงรายการของดิสก์ทั้งหมดสามารถใช้คำสั่ง
```
lsblk
```
# LVM
&nbsp;&nbsp;LVM (logical volume manager) คือเทคโนโลที่มีไว้สำหรับการจัดการ storage LVM หรือ Logical Volume Manager เป็นเทคโนโลยีที่ใช้ในระบบปฏิบัติการ Linux เพื่อจัดการพื้นที่ฮาร์ดดิสก์ (Disk Space) อย่างยืดหยุ่นและมีประสิทธิภาพ โดย LVM ช่วยให้ผู้ใช้สามารถสร้าง logical volumes (LVs) ซึ่งเป็นส่วนหนึ่งของพื้นที่จัดเก็บข้อมูลในระบบไฟล์ โดยแต่ละ logical volume สามารถรวมเข้าด้วยกันใน volume group (VG) ซึ่งเป็นการจัดการกลุ่มของพื้นที่ฮาร์ดดิสก์ที่เป็นรูปแบบที่ยืดหยุ่นและสามารถขยายขนาดได้ตามต้องการ เมื่อมีความจำเป็นในการเพิ่มหรือลดขนาดของพื้นที่จัดเก็บข้อมูล ผู้ใช้สามารถทำได้โดยไม่ต้องตัดข้อมูลหรือทำการฟอร์แม็ตพื้นที่ใหม่ทั้งหมด ทำให้เพิ่มประสิทธิภาพในการจัดการพื้นที่ฮาร์ดดิสก์และให้มีความยืดหยุ่นในการใช้งานระบบไฟล์ได้อย่างมีประสิทธิภาพมากยิ่งขึ้น

# ความแตกต่างของ LVM และ Standard Partition
1. การเปลี่ยนขนาดของพาร์ติชัน: LVM ช่วยให้การเปลี่ยนขนาดของพาร์ติชันง่ายขึ้นเมื่อเปรียบเทียบกับพาร์ติชันมาตรฐาน ด้วย LVM คุณไม่จำเป็นต้อง unmount ระบบไฟล์ก่อนการเปลี่ยนขนาด และสามารถทำได้ขณะระบบออนไลน์
2. การเพิ่มพื้นที่เก็บข้อมูล: ด้วย LVM สามารถเพิ่มโอกาสการใช้งานหลายๆ รายการได้โดยง่าย คุณสามารถเพิ่มรายการได้มากกว่า 250 รายการ แต่ด้วยพาร์ติชันมาตรฐาน และไม่สามารถเพิ่มมากกว่า 50 พาร์ติชันได้

# Physical Volume
Physical Volume (PV) ใน Linux เป็นอุปกรณ์เก็บข้อมูลที่สร้างจากอุปกรณ์บล็อก เช่น LUNS หรือพาร์ติชันบนฮาร์ดไดรฟ์ ซึ่งเป็นส่วนหนึ่งของระบบจัดการพื้นที่ฮาร์ดดิสก์แบบยืดหยุ่นของ Linux (LVM) เมื่อสร้าง PV ต้องใช้คำสั่ง "pvcreate" เพื่อเริ่มต้นการใช้งาน และ LVM จะสร้างข้อมูลเพิ่มเติมบน PV เพื่อระบุว่าเป็นส่วนหนึ่งของ LVM และจะถูกจัดการโดย LVM หากไม่มี PV ก็จะไม่สามารถสร้าง Volume Group ได้

## How To Create A Physical Volume In Linux
### 1.แสดงข้อมูลเกี่ยวกับอุปกรณ์เกี่ยวกับการเก็บข้อมูล (storage devices)
```
lsblk
```
### 2.สร้าง physical volume(PV) บนอุปกรณ์เก็บข้อมูลที่ระบุ
```
pvcreate /dev/sdc
```
### 3.ตรวจสอบ physical volume ที่สร้างแล้ว
```
pvs
```
หากต้องการแสดงข้อมูลทั้งหมดให้ใช้คำสั่ง
```
pvdisplay
```
# Volume Group
&nbsp;&nbsp;Volume Group (VG) เป็นส่วนหนึ่งของโครงสร้างการจัดการโดย Logical Volume Manager (LVM) ในระบบปฏิบัติการ Linux ซึ่งเป็นกลุ่มของ physical volumes (PVs) ที่รวมกันเพื่อให้มีพื้นที่เก็บข้อมูลที่ใหญ่ขึ้นและมีความยืดหยุ่นในการจัดการพื้นที่เหล่านั้นได้.

&nbsp;&nbsp;การสร้าง Volume Group จะช่วยให้ผู้ใช้สามารถจัดการพื้นที่เก็บข้อมูลในรูปแบบที่ยืดหยุ่นมากขึ้น โดยสามารถเพิ่มหรือลดขนาดของ VG ได้ตามต้องการ นอกจากนี้ยังสามารถจัดการกับ logical volumes (LVs) ภายใน VG ได้อย่างเหมาะสมเพื่อตอบสนองต่อความต้องการการจัดเก็บข้อมูลของระบบหรือแอปพลิเคชันที่ใช้งาน.

## How to create a Volume Group
### 1.ตรวจสอบว่ามี Physical volume ที่ต้องการสร้าง Volume Group
```
pvs
```

### 2. สร้าง Volume Group 
vgcreate <VG-name> <PV>
```
vgcreate rhel8VG /dev/sdc
```
โดยขนาดเริ่มต้นจะเป็น 4mb หากต้องการกำหนดขนาดเอง เช่น 16 mb จะใช้คำสั่ง
```
vgcreate  -s 16M rhel8VG /dev/sdc
```
### 3.ตรวจสอบ Volume Group ที่สร้างแล้ว
```
vgs
```
# Logical Volume (LV)
&nbsp;&nbsp;Logical Volume (LV) เป็นส่วนหนึ่งของโครงสร้างการจัดการโดย Logical Volume Manager (LVM) ซึ่งเป็นพื้นที่เก็บข้อมูลที่ถูกสร้างขึ้นบน Volume Group (VG) ภายใต้ระบบไฟล์ของ Linux.

LV เป็นพื้นที่เก็บข้อมูลที่มีความยืดหยุ่นมากขึ้นเมื่อเปรียบเทียบกับพาร์ติชัน (partition) ปกติ โดย LV สามารถถูกสร้างขึ้น, ขยายขนาด, ย่อขนาด, หรือย้ายไปยังอุปกรณ์เก็บข้อมูลอื่น ๆ ได้โดยไม่ต้องมีการขยายหรือยุบ VG เป็นส่วนต่อไป

ผู้ใช้สามารถสร้างหลาย LV ใน VG เดียวกัน และแต่ละ LV สามารถมีขนาดและความสำคัญที่แตกต่างกันได้ตามความต้องการของผู้ใช้ นอกจากนี้ LV ยังสามารถถูกนำมาใช้เป็นพื้นที่เก็บข้อมูลสำหรับระบบไฟล์, พาร์ติชันสำหรับการจัดเก็บข้อมูล, หรือการใช้งานอื่น ๆ ที่ต้องการพื้นที่เก็บข้อมูลในรูปแบบที่ยืดหยุ่นได้ในระบบไฟล์ของ Linux.

## How To Create Logical Volume
### 1.สามารถสร้าง LV ได้ด้วยคำสั่ง
```
lvcreate -L <LV-size> -n <LV-name> <VG>
```
```
lvcreate -L 10G -n rhel8LV rhel8VG
```
