# Chapter 1 Monitoring and Logging Tools
**Monitoring and Logging Tools** คือเครื่องมือที่ใช้ในการตรวจสอบและบันทึกข้อมูลเกี่ยวกับระบบหรือแอปพลิเคชันที่ทำงานในสภาพแวดล้อม IT หรือเครือข่ายโดยเฉพาะเพื่อดูแลและจัดการปัญหาที่อาจเกิดขึ้นได้หลายๆ ครั้ง, Monitoring และ Logging ถูกใช้ร่วมกันเพื่อช่วยในการตรวจสอบปัญหาและวิเคราะห์การดำเนินการของระบบ นอกจากนี้เครื่องมือเหล่านี้ยังช่วยในการค้นหาปัญหา ปรับปรุงประสิทธิภาพและเพิ่มความมั่นคงของระบบ <br>
- **Monitoring** เครื่องมือตรวจสอบเป็นทั้งซอฟต์แวร์และฮาร์ดแวร์ที่ใช้ในการตรวจสอบ วัด รายงานสถานะและประสิทธิภาพของระบบคอมพิวเตอร์ เครือข่ายและแอปพลิเคชัน การตรวจสอบเป็นขั้นตอนสำคัญในการดูแลระบบ IT เพื่อป้องกันปัญหาที่อาจเกิดขึ้นและให้การแก้ไขที่รวดเร็วเมื่อเกิดปัญหา <br>
- **Logging** เครื่องมือที่ใช้ในการบันทึกข้อมูลหรือเหตุการณ์ที่เกิดขึ้นในระบบคอมพิวเตอร์ แอปพลิเคชันหรือระบบเครือข่าย ข้อมูลที่ถูกบันทึกนี้เรียกว่า "logs" หรือ "log entries" และมักจะประกอบด้วยข้อมูลที่สำคัญเกี่ยวกับเหตุการณ์ เวลาที่เกิดขึ้นและรายละเอียดเพิ่มเติมที่เป็นประโยชน์ในการตรวจสอบและวิเคราะห์ <br>

สำหรับองค์กรที่มีการลงทุนในเรื่องของระบบ Security มักจะคุ้นเคยกับสิ่งที่เรียกว่า Log และการจัดเก็บข้อมูลอย่างถูกต้องเหมาะสม เรามักมีคำถามว่าทำไมจึงจำเป็นต้องเก็บข้อมูล Log ด้วย อาจมีการตั้งคำถามว่าการลงทุนในส่วนนี้เป็นการสิ้นเปลืองหรือไม่ เอางบประมาณไปจัดซื้อ Security Control หรืออุปกรณ์อื่นๆ ที่จำเป็นจะดีกว่าไหม ด้วยข้อโต้แย้งต่างๆ
การใช้ Monitoring tools และ Logging tools **ร่วมกัน**ช่วยให้ทีมพัฒนาระบบสามารถติดตามการทำงานของระบบ, วิเคราะห์ปัญหา, และดำเนินการแก้ไขได้อย่างมีประสิทธิภาพ. การบันทึกข้อมูลจาก Logging tools เป็นที่มีประโยชน์ในการตรวจสอบประวัติเหตุการณ์ของระบบ, ในขณะที่ Monitoring tools ช่วยในการเข้าใจสถานะปัจจุบันของระบบ
<div>
  <img align="right" width="100%" src="https://www.careerguide.com/career/wp-content/uploads/2021/05/2-52.jpg">
  <p>&nbsp;</p>
</div>

# Log คืออะไร 
ข้อมูลหรือสิ่งที่อุปกรณ์แต่ละตัวในระบบคอมพิวเตอร์จะสื่อสารกับผู้ใช้งานหรือผู้ดูแลระบบ ซึ่งในอุปกรณ์หลายชนิดในระบบคอมพิวเตอร์ ล้วนมีความสามารถในการสื่อสารกับผู้ใช้งานผ่านช่องทางของ Log ด้วยกันทั้งสิ้น นั่นหมายความว่าอุปกรณ์ในระบบคอมพิวเตอร์มี Log สำหรับสื่อสารกับผู้ใช้งาน <br>
หากรู้ว่าคอมพิวเตอร์พยายามบอกอะไรเราก็จะทำให้เราสามารถแก้ไขปัญหา หรือป้องกันไม่ให้ปัญหาเกิดขึ้นได้ Log สำหรับบางระบบยังสามารถช่วยเหลือเราในงานด้านการ Audit หรือ Review ข้อมูลการใช้งานของผู้ใช้งาน และสามารถใช้ในงานด้านความมั่นคงปลอดภัยให้กับระบบงานได้เช่นกัน ในระบบ Security ข้อมูล Log นับเป็นสิ่งที่สำคัญมากสิ่งหนึ่งในการกำกับดูแลความมั่นคงปลอดภัยด้าน Security (Security Governance)


## ใช้ประโยชน์ข้อมูลจาก Log ได้อย่างไร
ข้อมูล Log มีกระจายอยู่ตามอุปกรณ์ต่างๆ ทั่วทั้งองค์กรโดยอยู่ตามเครื่องคอมพิวเตอร์, ซอฟท์แวร์, อุปกรณ์เน็ตเวิร์คต่างๆ การที่จะทำการ review แบบ one-by-one ย่อมเป็นไปได้ยากมีโอกาสที่จะทำให้สำเร็จ หรือเกิดประสิทธิผล (efficiency) ดังนั้นการที่จะทำให้สามารถใช้ประโยชน์จากขอมูลที่กระจัดกระจายอยู่นี้ทำได้โดยจัดการให้ข้อมูลทุกอย่างนั้นมาอยู่ที่เดียวกัน การมีระบบศูนย์กลางในการบริหารจัดการข้อมูล Centralized Log Management (SIM/SIEM) เมื่อข้อมูลทุกอย่างอยู่ที่ศูนย์กลางแล้วก็สามารถบริหารจัดการได้โดยง่าย สามารถมองเห็นภาพรวมของสถานะ และคาดการณ์ถึงแนวโน้มด้านความปลอดภัยของระบบรวมถึงการวิเคราะห์วางแผนการป้องกันปัญหาที่คาดว่าจะเกิดขึ้น

## ข้อมูลจำนวนมากจาก Log
การบริหารจัดการ Log ให้ถูกต้องครบถ้วน มักจะเจอปัญหาที่มีข้อมูลภายใน Log ขององค์กรมีจำนวนมากเกินไป ควรจึง **เก็บเท่าที่จำเป็น ไม่ต้องเก็บทุกอย่าง** โดยเราควรจะมีการตั้งเวลาการลบของแต่ละเครือข่ายหรือ network เช่น จะลบ Log เมื่อเวลาผ่านไป 1 - 2 ปี (ลบ Log ที่ถูกเก็บไว้ตามเวลานั้น) หรือจะเลือกเก็บเฉพาะ Log ที่จำเป็นภายในองค์กร ตาม พรบ. คอมพิวเตอร์ เป็นหลัก คือ ต้องเก็บรักษาไว้ไม่น้อยกว่า 90 วัน เป็นอย่างน้อย ในบางองค์กรจำเป็นต้องเก็บรักษาไว้นานกว่านี้ด้วยเหตุผลในด้าน Business สำหรับเวลาดังกล่าวจะอ้างอิงถึง Log ที่เป็น Mandatory หรืออุปกรณ์หลักๆ ที่จำเป็นต้องเก็บ อาทิเช่น Firewall, DHCP, Authentication Server, Proxy หรือ Internet Gateway, เครื่องแม่ข่ายที่เปิดให้บริการกับบุคคลทั่วไป เป็นต้น ดังนั้น ในส่วนของ Log ที่ไม่ได้เป็นอุปกรณ์หลักนั้นสามารถกำหนด Retention Period ได้ตามความเหมาะสม เพื่อให้ไม่เป็นภาระในด้านค่าใช้จ่ายต่างๆ ที่จะเกิดขึ้น

<div>
  <img align="right" width="100%" src="https://www.tnetitsolution.co.th/wp-content/uploads/2022/01/Centralized-Log-Management.png">
  <p>&nbsp;</p>
</div>

# Monitoring คืออะไร
เครื่องมือตรวจสอบเป็นทั้งซอฟต์แวร์และฮาร์ดแวร์ที่ใช้ในการตรวจสอบ วัด รายงานสถานะและประสิทธิภาพของระบบคอมพิวเตอร์ เครือข่ายและแอปพลิเคชั่น กระบวนการรวบรวม การวิเคราะห์ และใช้ข้อมูลเพื่อติดตามความคืบหน้าของระบบเพื่อการบรรลุวัตถุประสงค์ และเป็นแนวทางในการตัดสินใจ Monitoring เน้นไปที่การเฝ้าดู metrics เฉพาะ และ Logs จะให้ข้อมูลเพิ่มเติม แต่โดยทั่วไปจะดูแยกตามบริบทของระบบ

## Monitoring สำคัญอย่างไรต่อระบบ
Monitoring จะทำให้เห็นประสิทธิภาพโดยรวมของระบบ เมื่อ monitor ฐานข้อมูล คุณต้องการทราบเกี่ยวกับ latency ในการเขียนข้อมูลลงดิสก์หรือการตอบสนองของกรองข้อมูล (query) โดยเฉลี่ย ผู้ดูแลฐานข้อมูลที่มีประสบการณ์จะสามารถสังเกตเห็นรูปแบบที่อาจเป็นปัญหาที่พบบ่อย ตัวอย่างเช่น การเพิ่มขึ้นของการใช้ memory การลดลงของ cache hit ratio หรือการเพิ่ม CPU Utilization ปัญหาเหล่านี้อาจแสดงถึงกรองข้อมูล (query) ที่เขียนได้อย่างไม่ดีที่ควรถูกจัดการและแก้ไข

<div>
  <img align="right" width="100%" src="https://bevologyinc.com/blog/wp-content/uploads/2019/01/Metrics-gif.gif?w=640">
  <p>&nbsp;</p>
</div>

# Monitoring Tools เครื่องมือตรวจสอบต่างๆ
- Nagios โปรแกรมใช้ในการเฝ้าระวังระบบเครือข่ายในองค์กร (Network Monitoring) แบบ Open-Source
- Prometheus ระบบ monitoring และ alerting tookit เน้นไปที่การตรวจสอบแบบเหตุการณ์
- Zabbix เครื่องมือที่รวบรวมข้อมูลเชิงปริมาณและคุณภาพของระบบและเครือข่าย
- Datadog แพลตฟอร์มการตรวจสอบและความปลอดภัยที่จำเป็นสำหรับแอปพลิเคชันระบบคลาวด์
- Grafana ตัวอินเทอร์เฟซสำหรับแสดงผลข้อมูลจากตรวจสอบต่างๆ, สามารถใช้ร่วมกับ Prometheus, InfluxDB, และอื่นๆ

<div>
  <img align="right" width="100%" src="https://www.extnoc.com/learn/wp-content/uploads/2022/05/Open-Source-Network-Monitoring-Tools.jpg">
  <p>&nbsp;</p>
</div>


# Logging Tools
- ELK Stack (Elasticsearch, Logstash, Kibana) ชุดเครื่องมือที่ใช้ในการเก็บข้อมูลบันทึก (logs), ประมวลผลข้อมูล, และแสดงผลข้อมูล
- Splunk บริการบันทึกและการวิเคราะห์ที่ใหญ่ขึ้นที่นิยมในองค์กรใหญ่.
- Fluentd ระบบที่ให้บริการด้านการเก็บข้อมูลบันทึกแบบเปิด (open-source) และรองรับการทำงานร่วมกับหลายแหล่งข้อมูล
- Graylog เครื่องมือการบันทึกและตรวจสอบที่ให้บริการแบบเปิด (open-source) ซึ่งรวม Log Management และ Security Information and Event Management (SIEM)

<div>
  <img align="right" width="100%" src="https://www.atatus.com/blog/content/images/size/w960/2023/01/devops-monitoring-tools.png">
  <p>&nbsp;</p>
</div>

## Nagios ( Monitoring )
เป็นโปรแกรมใช้ในการเฝ้าระวังระบบเครือข่ายในองค์กร (Network Monitoring) สามารถนำไปติดตั้งใช้งานได้ฟรี ณ ปัจจุบันสามารถ solution ของ Nagios มีมากขึ้น Nagios XI ตรวจสอบโครงสร้างพื้นฐานด้านไอทีทั้งหมด Nagios Log Server วิเคราะห์และเก็บถาวรบันทึกจากแหล่งต่างๆขององค์กร ในตำแหน่งศูนย์กลางเดียวได้อย่างรวดเร็วและง่าย

<div>
  <img align="right" width="100%" src="https://www.nagios.org/wp-content/uploads/2023/07/Log-Server-Updtaed.webp">
  <p>&nbsp;</p>
</div>


#### ความสามารถ
- ใช้ตรวจสอบการทำงานของเซอร์วิสบนเคือข่าย เช่น SMTP, POP3, HTTP, NNTP, ICMP, SNMP, FTP, SSH
- ใช้ตรวจสอบการใช้งานทรัพยากร เช่น processor load, disk usage, system logs
- การรับทราบการแจ้งเตือนให้การสื่อสารเกี่ยวกับปัญหาที่ทราบและการตอบสนองต่อปัญหา
- ความสามารถในการตรวจสอบแอปพลิเคชัน บริการ ระบบปฏิบัติการ โปรโตคอลเครือข่าย ตัวชี้วัดระบบ และส่วนประกอบโครงสร้างพื้นฐานด้วยเครื่องมือเดียว
- การผสานรวมกับแอปพลิเคชันภายในและของบริษัทอื่นทำได้ง่ายด้วย API หลายตัว
- ส่วนเสริมที่พัฒนาโดยชุมชนหลายร้อยรายการขยายฟังก์ชันการทำงานของ Nagios หลัก
- มุมมองแบบรวมศูนย์ของโครงสร้างพื้นฐานด้านไอทีที่ได้รับการตรวจสอบทั้งหมด
- ตัวจัดการเหตุการณ์อนุญาตให้รีสตาร์ทแอปพลิเคชันและบริการที่ล้มเหลวโดยอัตโนมัติ

## Prometheus (Monitoring)
เป็นระบบติดตามและแจ้งเตือน เป็น Open-Source ในปี 2012 เป็นโครงการที่สองที่เข้าร่วมศึกษาภายใน Cloud Native Computing Foundation <br>
Prometheus จัดเก็บข้อมูลทั้งหมดเป็น time series ข้อมูล metric จะถูกเก็บไว้พร้อมกับการประทับเวลาที่บันทึก คู่ key-value

<div>
  <img align="right" width="100%" src="https://miro.medium.com/v2/resize:fit:1400/1*OGncw98tP9VVXYuoxXpTtw.png">
  <p>&nbsp;</p>
</div>
#### ความสามารถ
- โมเดลข้อมูลหลายมิติพร้อมข้อมูลอนุกรมเวลา(time series)ที่ระบุโดยชื่อเมตริกและคู่คีย์/ค่า
- PromQL ซึ่งเป็นภาษาคิวรีที่ยืดหยุ่น เพื่อใช้ประโยชน์จากมิตินี้
- ไม่มีการพึ่งพาการจัดเก็บข้อมูลแบบกระจาย โหนดเซิร์ฟเวอร์เดียวเป็นอิสระ
- การรวบรวมอนุกรมเวลาเกิดขึ้นผ่านโมเดลการดึงผ่าน HTTP
- การดึง time series ได้รับการสนับสนุนจากตัวกลาง
- เป้าหมายจะถูกค้นพบผ่านการค้นหาบริการหรือการกำหนดค่าแบบคงที่และรองรับการสร้างกราฟและแดชบอร์ดหลายโหมด

Prometheus ทำงานได้ดีในการบันทึกอนุกรมเวลาที่เป็นตัวเลขล้วนๆ มันเหมาะกับทั้งการตรวจสอบที่เน้นเครื่องจักรเป็นหลักตลอดจนการตรวจสอบสถาปัตยกรรมที่มุ่งเน้นบริการที่มีไดนามิกสูง ในโลกของไมโครเซอร์วิส การสนับสนุนการรวบรวมและการสืบค้นข้อมูลหลายมิติเป็นจุดแข็งโดยเฉพาะ

Prometheus ได้รับการออกแบบมาเพื่อความน่าเชื่อถือ โดยให้เป็นระบบที่คุณใช้ในระหว่างที่ไฟฟ้าดับ เพื่อให้คุณวินิจฉัยปัญหาได้อย่างรวดเร็ว เซิร์ฟเวอร์ Prometheus แต่ละเครื่องเป็นแบบสแตนด์อโลน ไม่ขึ้นอยู่กับที่เก็บข้อมูลเครือข่ายหรือบริการระยะไกลอื่นๆ คุณสามารถวางใจได้เมื่อส่วนอื่นๆ ของโครงสร้างพื้นฐานของคุณเสียหาย และคุณไม่จำเป็นต้องตั้งค่าโครงสร้างพื้นฐานที่กว้างขวางเพื่อใช้งาน

## Zabbix (Monitoring)
monitoring tool ที่เป็น open source ซึ่งเป็นที่นิยมสำหรับ Web GUI ที่ใช้งานง่าย และสามารถ configure ตั้งค่าการใช้งานได้อย่างครบครัน โดย Zabbix มุ่งเน้นไปที่ฟังก์ชั่นด้าน monitoring และ trending มักถูกนำมาใช้ในการตรวจสอบ server และ hardware ของ network หนึ่งในจุดเด่นของ Zabbix คือ ความสามารถในการคาดการณ์แนวโน้มของ traffic สามารถคาดการณ์พฤติกรรมในอนาคตจากประวัติการใช้งาน

Zabbix จะมีสมรรถภาพสูงสำหรับการใช้งานบน SMB networks ที่ต่ำกว่า 1,000 nodes ถ้าหากมากกว่านั้น อาจจะมีการทำงานช้าลงและประสิทธิภาพลดลง และข้อเสียอีกอย่างหนึ่งคือ ไม่มี real-time tests และ reports

#### ความสามารถ
- Zabbix ช่วยให้คุณสามารถรวบรวม เช่น Network devices, Cloud services, containers, virtual machines, Services, IoT sensors
- มีความยืดหยุ่นในการจัดเก็บข้อมูล metric
- แปลงข้อมูลทำให้เป็นมาตรฐานและเพิ่มประสิทธิภาพข้อมูล
- Zabbix ตรวจจับปัญหาประสิทธิภาพสูงแบบเรียลไทม์
- ส่งออกเหตุการณ์ปัญหาที่ตรวจพบไปยังระบบของ Logging แบบเรียลไทม์ (Elastic, Splunk )
- แสดงข้อมูลที่รวบรวมได้หลากหลาย

## Datadog
แพลตฟอร์มการตรวจสอบและความปลอดภัยที่จำเป็นสำหรับแอปพลิเคชันระบบคลาวด์ รวบรวมการติดตามแบบ end-to-end traces, metrics, และ Log เพื่อสร้างแอปพลิเคชัน Infrastructure โครงสร้างพื้นฐานและ third-party services ที่ช่วยให้ธุรกิจของคุณลูกค้ามีการรักษาความปลอดภัยของระบบ

#### ความสามารถ
- ลด avoid downtime
- Synthetic ตรวจสอบความพร้อมใช้งานของเว็บไซต์หรือแอปพลิเคชันและจำลองการใช้งานของผู้ใช้จริงเพื่อตรวจสอบประสิทธิภาพ
- APM (Application Performance Monitoring) ตรวจสอบประสิทธิภาพของแอปพลิเคชันและพบปัญหาที่มีผลต่อประสิทธิภาพ
- Activity Dashboard สร้างและแสดงผลข้อมูลในรูปแบบของแผงควบคุมและรายงาน
- Alerts/Notifications ตรวจสอบการทำงานของสิ่งที่สำคัญเพื่อรับแจ้งเตือนในกรณีของข้อผิดพลาดหรือปัญหา
- Collaboration Tools รวบรวมทีมตอบสนองที่ทำงานร่วมกัน
- เจาะลึกลงไปในบันทึก การติดตาม เครือข่าย โครงสร้างพื้นฐานเพื่อค้นหาสาเหตุที่แท้จริง

<div>
  <img align="right" width="100%" src="https://grafana.com/static/assets/img/blog/datadog_plugin_dash.png">
  <p>&nbsp;</p>
</div>

## Grafana
dashboard tools จะแสดงผลออกมาเป็นกราฟข้อมูล metrix ต่าง ๆ สามารถดึงข้อมูลออกมาได้ในระดับ realtime โดยสามารถดึงข้อมูลมาจาก datasource ที่เป็นที่นิยมได้อย่างมาก เช่น influxdb, Prometheus, elasticsearch, AWS CloudWatch และ datasource ตัวอื่นที่เป็นที่นิยม [ส่วนมากจะทำงานร่วมกับ Prometheus]

#### จุดเด่นของ Grafana
- เน้นการนำเสนอ Metrics ที่เฉพาะเจาะจง เช่น CPU, Memory หรือ I/O ในรูปแบบของกราฟ Time series
- ความยืดหยุ่นในการใช้งาน มี option ให้เลือกใช้จำนวนมาก
- มี Role-based access ในการจัดการ user ในการเข้าใช้งานให้ในตัว
- รองรับ datasource ที่หลากหลาย
<div>
  <img align="right" width="100%" src="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt14d57abad5d2499c/5ee0060cbf4ae52c761edcb7/illustrated-screenshot-kibana-7dot8-730x555.png">
  <p>&nbsp;</p>
</div>

## ELK Stack (Logging Tools)
ตัวย่อที่ใช้แทนสแตกที่ประกอบด้วยสามโปรเจกต์ ได้แก่ Elasticsearch, Logstash และ Kibana ELK Stack ความสามารถในการรวมข้อมูลบันทึกจากระบบและแอปพลิเคชันทั้งหมดของคุณ วิเคราะห์ข้อมูลบันทึกเหล่านี้ และสร้างการแสดงข้อมูลด้วยภาพสำหรับการตรวจสอบ การแก้ไขปัญหาอย่างรวดเร็ว การวิเคราะห์ความปลอดภัย และอื่นๆ อีกมากมายให้กับแอปพลิเคชันและโครงสร้างพื้นฐาน
#### E = ElasticSearch
เครื่องมือค้นหาและวิเคราะห์ข้อมูลแบบกระจาย ที่มีพื้นฐานมาจาก Apache Lucene การรองรับภาษาต่างๆ ประสิทธิภาพที่สูง และเอกสาร JSON ที่ปราศจากสคีมาทำให้ Elasticsearch เป็นตัวเลือกที่เหมาะอย่างยิ่งสำหรับการวิเคราะห์บันทึกและกรณีใช้งานการค้นหาต่างๆ
#### L = Logstash
เครื่องมือนำเข้าข้อมูลแบบโอเพนซอร์ส ในการรวบรวมข้อมูลจากแหล่งต่างๆ แล้วส่งไปยังปลายทาง ช่วยให้นำเข้าข้อมูลได้หรือเป็นไปป์ไลน์การประมวลผลข้อมูลฝั่งเซิร์ฟเวอร์แบบโอเพนซอร์สที่ใช้ทรัพยากรน้อย ซึ่งช่วยให้สามารถรวบรวมข้อมูลจากแหล่งต่างๆ ก่อนจะแปลงข้อมูล แล้วส่งไปยังปลายทางที่ต้องการ
สามารถด้านภูมิสารสนเทศที่มีประสิทธิภาพ ดังนั้นคุณจึงสามารถจัดเลเยอร์ข้อมูลทางภูมิศาสตร์ที่ด้านบนของข้อมูลคุณได้อย่างราบรื่นและแสดงผลลัพธ์บนแผนที่
#### K = Kibana
เครื่องมือแสดงข้อมูลด้วยภาพและสำรวจข้อมูลที่ใช้สำหรับการวิเคราะห์บันทึกและอนุกรมเวลา การตรวจสอบแอปพลิเคชันและการใช้งานความอัจฉริยะในการดำเนินการ ซึ่งมีคุณสมบัติประสิทธิภาพสูง
Kibana มีตารางและรายงานแบบอินเทอร์แอคทีฟที่คุณสามารถใช้เพื่อดูข้อมูลบันทึกจำนวนมากได้ สามารถด้านภูมิสารสนเทศที่มีประสิทธิภาพ ดังนั้นคุณจึงสามารถจัดเลเยอร์ข้อมูลทางภูมิศาสตร์ที่ด้านบนของข้อมูลคุณได้อย่างราบรื่นและแสดงผลลัพธ์บนแผนที่ เมื่อใช้การรวบรวมและตัวกรองที่สร้างไว้ล่วงหน้าของ Kibana สามารถเรียกใช้การวิเคราะห์ต่างๆและแดชบอร์ดที่เข้าถึงได้ง่าย

#### ความสำคัญของ ELK Stack
ELK Stack รองรับความต้องการพื้นที่ในด้านการวิเคราะห์ข้อมูลบันทึก เมื่อโครงสร้างพื้นฐานด้านไอทีจำเป็นต้องย้ายไปยังระบบคลาวด์สาธารณะมากขึ้น ยิ่งทำให้คุณต้องการการจัดการข้อมูลบันทึกและโซลูชันสำหรับการวิเคราะห์เพื่อตรวจสอบโครงสร้างพื้นฐานนี้รวมถึงการประมวลผลข้อมูลบันทึกเซิร์ฟเวอร์ ข้อมูลบันทึกแอปพลิเคชัน จะให้โซลูชันการวิเคราะห์ข้อมูลบันทึกที่เรียบง่ายแต่มีประสิทธิภาพแก่นักพัฒนาและวิศวกร DevOps เพื่อรับข้อมูลเชิงลึกอันมีค่าเกี่ยวกับการวินิจฉัยความล้มเหลว ประสิทธิภาพของแอปพลิเคชันและการตรวจสอบโครงสร้างพื้นฐาน

ใช้เพื่อแก้ปัญหาที่หลากหลาย รวมถึงการวิเคราะห์ข้อมูลบันทึก การค้นหาเอกสาร ข้อมูลความปลอดภัยและการจัดการเหตุการณ์ (SIEM) และข้อมูลการสังเกต ให้บริการเครื่องมือค้นหาและการวิเคราะห์ การนำข้อมูลเข้า และการแสดงภาพ

<div>
  <img align="right" width="50%" src="https://www.comodo.com/images/is-splunk-a-siem.png">
  <p>&nbsp;</p>
</div>


## Spunk (Logging Tools)
ระบบ security ส่วนมากในองค์กรใช้เพื่อเก็บรวบรวม วิเคราะห์และตรวจสอบข้อมูล เพื่อนำมารายงานหรือตอบปัญหาต่างๆ ที่เกิดขึ้น
#### ส่วนประกอบที่สำคัญของ Spunk
- Search Heard ส่วนของผู้ใช้งานที่ใช้ในการ search หาข้อมูลๆต่างใน splunk system
- Indexer ส่วนที่ทำหน้าที่ในการเก็บข้อมูลต่างๆ ที่ส่งมากจาก forwarder
- Forwarder ส่วนรับ Data (from windows,mac,Linux) และส่งต่อไปที่ Indexer เพื่อสกัดและจัดเก็บข้อมูล


#### จุดเด่น
- Splunk สามารถรับ Log และนำข้อมูลได้จากอุปกรณ์ได้หลากหลาย
- Splunk สามารถเข้าใจข้อมูลที่มีในฐานข้อมูลของ Splunk และสามารถตั้งค่าให้เข้าใจข้อมูลที่นำเข้าได้ ทำให้ Splunk สามารถตรวจข้อมูลอุปกรณ์ IT ,Security
- Splunk สามารถ Monitor ได้หลากหลายภายในองค์กรรวมถึงในแง่ของธุรกิจ ช่วยให้การ Monitor แบบรวมศูนย์กลางมีประสิทธิภาพมากขึ้นและใช้ทรัพยากรน้อยลง

<div>
  <img align="right" width="100%" src="https://miro.medium.com/v2/resize:fit:880/1*30zX3V4VuJsOGb2XYYyKVg.png">
  <p>&nbsp;</p>
</div>

## Fluentd (Logging Tools)
เครื่องมือเอาไว้จัดการ Logging ที่ถูกสร้างขึ้นด้วยภาษา Ruby ทำหน้าในการเป็นตัวกลางในกระบวนการเก็บรวบรวมและจัดการข้อมูล log และเหตุการณ์ต่าง ๆ ที่เกิดขึ้นใน ทำให้เราสามารถเก็บรวบรวมข้อมูลจากแหล่งต่าง ๆ ไว้ที่เดียว และส่งข้อมูลนั้นไปยัง tool ปลายทางได้

#### โครงสร้างการทำงานภายในของ FluentD
- กลุ่ม Input เป็นส่วนที่ใช้ในการรับข้อมูล log จากแหล่งต้นทางโดย Input Plugin จะรับข้อมูลจากแหล่งต้นทาง ไฟล์ log, แอปพลิเคชัน, บริการเครื่องมือต่าง ๆ และแปลงข้อมูลเหล่านี้เป็นรูปแบบที่ Fluentd เข้าใจได้
- กลุ่ม Engine เป็นส่วนที่จัดการควบคุม คัดแยก(Filter) เพื่อให้สามารถรับข้อมูล log จากแหล่งต้นทางแยกแยะข้อมูล log ในรูปแบบที่กำหนด ปรับแต่งข้อมูลที่จะแสดงเพิ่มเติม ส่งข้อมูลไปยังตัวเก็บข้อมูลหรือระบบปลายทางที่กำหนดไว้ใน Output Plugin ต่างๆ
- กลุ่ม Output เป็นส่วนที่ไว้รับข้อมูล ที่ถูกปรับแต่งแล้ว และนำส่งข้อมูลนี้ออกไปยังระบบปลายทางที่ใช้

#### จุดเด่น FluentD ที่ใช้ในองค์กร
- สามารถทำงานกับหลายแหล่งข้อมูลและหลายปลายทางที่แตกต่างกัน ทำให้มีความยืดหยุ่นและสามารถใช้กับโปรโตคอลและรูปแบบข้อมูลต่างๆ
- ระบบ Plugin Fluentd มีระบบปลั๊กอิน (plugin) ที่มากมายที่สามารถให้บริการในหลายด้าน

## Graylog
แพลตฟอร์มที่มีประสิทธิภาพที่ช่วยให้จัดการบันทึกข้อมูลที่มีโครงสร้างและไม่มีโครงสร้างได้ พร้อมกับการ debug แอปพลิเคชันขึ้นอยู่กับ Elasticsearch, MongoDB และ Scala โดยประกอบไปด้วย Opensource หลายๆตัวประกอบกัน

<div>
  <img align="right" width="100%" src="https://camo.githubusercontent.com/e419cc6ae3277cd8661f50d47b04b1d1ff4c2931ccd4ec21a88f73b3e59c7e2a/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f677261796c6f67626c6f672f736e6f72745f696e746567726174696f6e2f64617368626f6172642e706e67">
  <p>&nbsp;</p>
</div>

#### องค์ประกอบของ Graylog
- เซิร์ฟเวอร์ Graylog คือเซิร์ฟเวอร์หลักและใช้สำหรับการประมวลผลบันทึก
- อินเทอร์เฟซเว็บ Graylog เป็นแอปพลิเคชันเบราว์เซอร์ที่ให้ข้อมูลและบันทึกที่รวบรวมจากจุดสิ้นสุดหลายจุดได้อย่างรวดเร็ว
- MongoDB เซิร์ฟเวอร์ฐานข้อมูล NoSQL สำหรับจัดเก็บข้อมูลการกำหนดค่า
- ElasticSearch เครื่องมือค้นหาและการวิเคราะห์แบบโอเพ่นซอร์ส

การเลือกใช้ที่เหมาะกับ Graylog เป็นทางเลือกที่เหมาะสมกับการจัดการและวิเคราะห์ข้อมูล Log ในระบบ IT หรือระบบขนาดใหญ่ด้วยตัวกรองและการค้นหาที่มีประสิทธิภาพสูงของ Graylog ทำให้สามารถหาข้อมูล Log ที่ซับซ้อนได้อย่างมีประสิทธิภาพ ทำงานร่วมกับหลายแหล่งข้อมูลที่มีรูปแบบแตกต่างกันได้ รองรับระบบปฎิบัติการที่หลากหลาย

# Other Chapter
- 🛠 [**Introduction Monitoring and Logging Tools**](https://github.com/Jxwgame/Monitoring-and-Logging-Tools-Sec-2/blob/main/README.md)
- 📈 [**Chapter 2 Log Reader and Analysis**](https://github.com/Jxwgame/Monitoring-and-Logging-Tools-Sec-2/blob/main/Chapter%202/Readme.md)
- 📝 [**Chapter 3 Log Collection and Server**](https://github.com/Jxwgame/Monitoring-and-Logging-Tools-Sec-2/blob/main/Chapter%203/Readme.md)
- 📚 [**Chapter 4 Log Files**](https://github.com/Jxwgame/Monitoring-and-Logging-Tools-Sec-2/blob/main/Chapter%204/Readme.md)
- 📩 [**Chapter 5 Working with Texts**](https://github.com/Jxwgame/Monitoring-and-Logging-Tools-Sec-2/blob/main/Chapter%205/Readme.md)

# Source 
- [Reference Monitoring and Logging](https://github.com/Jxwgame/Monitoring-and-Logging-Tools-Sec-2/blob/main/Reference/Chapter%201.md)
